update assign pause block, too weak - done
assign tickdown should be uncommon, replace with a common version - done
update frontline card onplay effects, and change their types to match better - done
prep archer volley set to 1 require archer - done
haniwa attacker use normal attack instead of reaction? - done
update recycle create reserves, feels weird to remove cards from play, nothing else is synergizing - done

update exile create reserves to exile then choose 1/2 common frontline card to add - done
and move the upgrade portion to another card
find a way to get more haniwa gen in early game. Or no need? the starting 3 is enough? - done
  - add starting cards that fit with each playstyle, and not pooled

discard frontline make doesnt discard? - done

update some cast block actions to use direct or whatever to stop the player animation
  - such as on assign fencer build barricade, or haniwa bodyguard maybe

Make AssignPauseBlock pause block status an ability? or a separate skill - done

maybe frontline cards shouldnt exile by default? - done

strength in numbers probs uncommon? also remove limit and upgrade for cost - done
cavalry rush probs uncommon - done
rework assign pause block, make it give block based on current buffs - done
rework assign tickdown retain, make it when player gains a buff, tickdown assigns by 1 - done
let assigns be stackable, playing the same buff increases number of triggers by 1 by default - done
  - sideeffect of losing overspent haniwa, seems like a cool mechanic
remove assign tickdown extra time as it is now redundant? or rework to something - done
  - can possibly keep, it's an easier way to increase trigger count
  - made it draw 1
charge attack increase the card count to 20 or something, since pause is being removed - done
  - or keep it short and increase the dmg gain
still need to refine uncommon frontline cards
  - rework exploiter in hand ability to follow up with dmg + apply 1 random debuff
  - commander should be rare?
rework fencer build barricade to be like a cirno frost armor
  - and add a fencer attack in commons
  - or just keep barricade and add new card in uncommon

fix minicardselections as more than 5 cards wont show the rest

frontline cards upgradable up to +99 - done
draw card after playing 0 cost card? - already doing it after assign card, which is probs overkill to add another
upgrade frontline card by more than once? - done
exile frontline upgrade cards - done
  - upgrade more depending on how many exiled
losing buff tickdown assign - meh?
play assign card gain block - done
num buff block should be uncommon? + give it base block - done
gain buff tickdown should be reworked, too good for common or just broken in general - done
  - or make it rare?

update assign status effect to assign buff in card yaml - done

attack card dmg = number of cards in all piles - already have mass ressurection card, not sure bout this one
card lowers cost when retain card is used - not sure im going too hard into retain
exile frontline triggers onplay effect?
ability assigns now tickdown by +1? maybe broken
build training camp, assign then gain ability, upgrade random card(s) at start of turn
exile frontline, trigger assign + extra time?

more exile frontline cards, or exile cards in general
exile all frontline cards, summon new frontline, is has upgrade equal to number of exiled cards + total upgrades - done
summon random frontline until hand is full - done
removal all but 1 assign buffs, that buff gains extra triggers equal to buffs removed - done

frontline upgrade, target 2 instead of 1x3 - done
zero cost move, upgrade lets you choose - done
exile summon uncommon, maybe make 1 exile = 1 summon, and 2 = 2 - done
exile upgrade, not sure if need to limit how many cards get upgraded
strength in numbers, upgrade includes 0 cost in draw/discard - done
creaete cavalry, rework to not give scry? or atleast not only scry - done
  - 3:draw 1, 5: scry 3, 7: draw another 2, 10: gain redyellow mana
ultra frontline, check if going past 100 upgrade counter breaks, or maybe just remove the 99 limit - done
  - it does not break anything, but fixed it going past the limit. I also increased it to 999. 
full frontal assault, probs tweak a bit to increase dmg + do sacrifice - done

give charge attack retain maybe? perhaps on upgrade - done
improve starter haniwa gens, be more stable - done
add a haniwa gen in uncommon that is all 3 - will this make it too ez? since the starter gens got buffed
  - or update the defence create reserves to just gain all 3
assign heal card? + some other effect - done
  - or sacrifice heal
some fencer assign that reflects damage? or just gain reflect - done
choose 1 random assign card, card count starts at some low number - done
assign effect triggers, add 1 random frontline card to draw pile or hand - done
assign 1 cav, 1-2 card count, draw 1 + maybe scry - done
assign triggers, gain mana, every 3 triggers? - maybe too many things on assign trigger ability not good?

charge attack probs shouldnt scale so hard like that - done
  - maybe increase dmg a smaller amount 3-5, and also increase extra trigger by 1
fix assigns not using upgraded card values if non-upgraded version was used first - done
fix assign create haniwa to not aoe the haniwa gain - done
update assign text to say trigger instead of activate - done

sacrifice card in red uncommon, some attack + defence perhaps? - done
  - fencer + cavalry sacrifice, atk + def
one more debuff card in uncommon, either assign or sacrifice - done
  - archer aoe dmg + debuffs?
haniwa buffer, gain buff do something, on play number of buffs currently on player = do something
  - or gain random buff after something
haniwa spy do something with scry on play? cards moved via scry cost less? in hand, after draw, show top card? - done
  - on play scry X and decrease cost cards moved to discard, in draw/discard end of turn decrease cost

haniwa spy filter unplayable cards to lower cost, and give onplay draw 1 - done
summon commander give an upgrade - done
num buff block upgraded give extra base block - done

assign triggers, upgrade random card in hand - done
exile frontline, increase all assign triggers by 1 - done
when no haniwa at start of turn, give 1 - done
  - or make that part of the starter cards, when cant fulfil condition
gainBuffTickdown buff it? maybe 1 cost? - hold off on this for now, more testing - fuck it we ballin - done
massExtraTrigger defs need a buff, either not exile or increase effect - done
weakeningShot make upgrade 1 mana, dont upgrade dmg - done
cavalryScout upgrade gives 2 draw - done
exile frontlines, spawn in random frontlines?
  - could be ability

off color ideas
BLUE
frozen haniwa, adjectent cards temp retain end of turn, playing adjecent cards apply cold + frost armor, on play = cold + dmg to all? - done
copy frontline - not sure if good idea, copy on only frontline is boring
discard all frontline, draw that many cards - done
cold arrow assign? - done
cake teammate blue red yellow - done
PURPLE
toxic haniwa common
  - unstable potion link?
poison arrows, assign or require archer level, do poison stuff - done
playing frontline card gives benefit but cost 1 life (or every 2-3 cost 1 life) red purple - too similar to perma assign? atleast the sideeffect
  - draw 1 card, spawn random frontline to draw or discard pile
  - perhaps start with sacrifice 1 random haniwa, then when 0, drain life
some sacrifice card here
fencer assign debuff = block?
perma assign, when triggered lose haniwa, life instead when no haniwa - done
  - no extra triggers, ticksdown 3 instead
GREEN
mana for each assign buff currently on
mana haniwa uncommon
  - onPlay x cost convert mana to rainbow?
  - in hand, refund mana spent up to blah times
frontline in hand, gain 1 graze red green

some assign with multiple haniwa types (build watchtower doesnt count)

investigate haniwa attacker not attacking end of turn after summoned? - done
  - it's related to upgrading
buff cake 2 haniwa per turn - done
investigate assign buffs causing performance issues? - done
  - unsure whats causing it, probs need to profile in some way
  - looks like it was calling NotifyChanged() in the status widget patch
zero cost reduction not working on 0 cost after play if it had its cost changed to 0 - done
zero cost reduction reducing cost when there's 0 anys, even if there's colors - dunno wtf i mean here, probs brain being weird
zero cost reduction just sometimes not reducing a cost? - done
  - maybe it's targetting an already 0 cost
  - probably the same issue with haniwaSpy before, not checking unplayable cards, which still have Any > 0 for whatever reason
haniwa upgrader will activate when playing a ability or exile card, so i should probs make it upgrade a card in the hand? - done
mass summon, buff to add +5 to draw and discard when upgraded, keep exile - done
does exile frontline extra trigger need something more? - done
  - made it give 2 extra triggers on upgrade

fix ChooseShortAssign filtering on offcolor assign cards - done
make fast trigger actually trigger it immidiately - done
specify if zero cost reduction stacks - done
  - also nerfed cost a bit, cos effect is rly powerful
check prep frost arrow actually gains block - seems to? not sure why i didnt in my last run, or i didnt see it attacked another target?

buff MassExtraTrigger in some way as it still seems weak - done
  - upgrade allows choosing 2 buffs? they both add the values from removed buffs
  - just gave it 2 base extra triggers
maybe make cake teammate spawn the frontline cards in draw/discard piles?

make assign option card for prep frost arrow card blue - too annoying to add, color config changes all the option cards colors
maybe buff loyalty strike dmg a bit - done
maybe uncommon haniwa summons should be included in common summon cards? them costing more is already tougher to manage - done
  - can come up with more unique summon options in uncommon cards
  - summon that starts the frontline upgraded
  - remove an assign and add multiple copies of a frontline
make assignPlayGainBlock work with ChooseShortAssign? - done
gainBuffTickdown reduce upgraded cost to W? - done
frontlineDiscardDraw let discard any card, but only draw based on frontline discard - done
  - also only upgrade for the upgraded version
Buff UltraFrontline to exile from draw/discard piles on upgrade - done

MassSummon probs needs a nerf, either lower the count, or make it cost haniwa for each summon
UpgradedSummon probs need a little nerf too? but need testing
fix SummonHaniwa using mini card select - done

fix haniwa attacker end of turn dmg not updating like dmg info for weak and stuff - done
remove relative cards for create haniwa - done
haniwa blitz tooltip say cant choose commander - done
make MassSummon sacrifice 2 of each? probs needs some downside at the current state - done
ashes to clay feels like a brick if there's no frontlines in exile, perhaps something to make it feel better

UltraFrontline should be able to choose which cards to exile, and perhaps have base increase in upgrades - done
new card, exile or onplay frontline, execute the onplay action - done
new card, assign cards cost 1any, but now start with extra triggers - done
maybe swap cavalry scout and cavalry supplies rarity, and adjust the values - done
  - scout only 1 draw, supplies gain 2 mana
nerf chooseShortAssign to not give extra trigger, make it set card counts to 3 and 1, aka 2 and 0 - done
healSacrifice only sacrifice 1 each? 2 might be a bit much - done

make cavalry supplies assign 2 cavalry, very stronk - done
assign summon frontline dont make it create copies - done
fencer prep counter work with barrier from get go? - done

remove 1 draw from cavalry supplies, was only added because it became 1 mana earlier on - done
make frontlineDiscardDraw blue now, cos it doesnt require only frontline to discard - done
ZeroCostReduction, maybe add moving a 0 cost card to hand? so it does something on its own if needed - no need
AssignTriggerSummon, make it summon 1 random frontline card? so it does something on its own if needed - no need
AssignPlayDraw, make it draw 1 card? so it does something on its own if needed - no need
AshesToClay make it 0 cost? it does nothing on its own except the 1 draw, so thisll atleast make it repay itself a tiny bit - done
  - repay by ticking down assigns, synergize with 0 cost stuff
AssignTriggerupgrade, make it upgrade 1-2 random cards in hand? so it does something on its own if needed - no need
maybe buff LoyaltyStrike dmg a bit again, still feels a little meh for 3 cost - done
rework PoisonShot to be more about debuffs - done

update cards and status effects to use base class to generate name id - not worth, need to change class names too
update all cards to switch red and yellow colours - done
  - and exhibits and anything else required of course
go through the balancing changes

use more robust way of adding keywords to cards
  - so i can give assign cards the assign keyword too

go through frontline card descriptions and see if they match - done
make frontlines cost more when they have 0 remaining value - done
update player to just check for any haniwa exist before gaining haniwa - done
assignment bonus not notify activating - done

new card that add create haniwa to hand if less than level - done
new card next X frontlines add a copy to draw pile - done
  - or just add echo
new card choose frontline and remove exile from it - done
  - remember to carry over losing exile to frozen haniwa
new card add card to battlefield, gain block/draw - maybe no need
new card fencer assign gain buff charges block gain? - wont do
  - gaining buffs gains extra triggers, every 4-5 buffs?
  - card gives 4(5) block per trigger
  - probs no need if crd gain counter block is implemented, which ill probs do that one over this
new card if at max hand size, dmg or block? or it costs 0 - done
  - gain block based on hand size, ohnyo its undine, if max handsize cost 0 to play
new card assign buffs gain card counter instead of decreasing until end of turn - done
  - at end of turn gain block = to total card counters
frontline that benefits from gaining buffs - done
  - onplay is an attack that charges up with each buff gained
  - passive deals dmg when gaining a buff? up to X times
  - or passive is the charge, so you need to refresh counter if want to build up big
new toxic haniwa that turns adjecent haniwa into toxic haniwa
  - probs do poison to enemy and also apply poison to player for each toxic haniwa in hand
new horse archer haniwa something about graze and damage
new frontline related to assigns, like gaining assignment bonus onplay and then something else passive
new frontline hisoutensoku haniwa, reaches 30 upgrades big boom to all enemies
new card green, trigger assign without removing then exile - done

fix haniwa upgrader upgrading when summoned - done
  - had a hard time fixing all cases, so just made it not do it on summon
  - just remove the check and buff the starting counter to 2(3), so it doesnt immidiately cost 1
  - or make the condition for upgrading different
fix assign buffs not counting down when cardSource is the played again, or when upgraded and cardSource changes - done
  - also fix text for chooseShortAssign to not include -1 values
swap cake ult and mass ressurection effects - done
maybe buff haniwa bodyguard dmg reduction from 4 -> 5 - done
fix haniwa blitz and discard upgrade flag for discard not set - done
DiscardUpgrade dont try upgrade if nothing in hand can upgrade - done
  - to fix delay of card resolving, since upgrading multiple times takes a bit
investigate haniwa bodyguards getting to 2 cost - done
  - fixed by just setting turn cost instead of increasing/decreasing
use AdditionalCost for frontline and assign cards - done
rebalance Handsize Block - done
  - very small change for now, need testing rly
add a limit to ZeroCostReduction per turn instead of having ethereal - done

commander moving commander to hand kinda be broken? yeah the passive probs needs a rework of some sort - done
  - in hand, end of turn X random frontlines do their onplay action to random enemies
  - on play, debuff commanders orders or some shit, makes random onplays target that enemy
  - also deal a bit of dmg probs?
  - and update ExileFrontlineBlitz to target enemies with Commanders Mark
and copying commander without exile? also seems broken - done
  - only allow copying common/uncommon
  - override base method for cloning so frontline stuff carries over
  - cant override it, so made monk use DeltaInt and hardcoded frozen haniwa cloning original card
refresh frontlines when discarded? just because commanders passive sucks when it pulls 0 usage frontlines - no need
  - commander being reworked anyway so probs no need
tenshi consume power is a debuff which triggers exploiter lol - tis fine
  - dance of empty masks doesnt check for source of debuff either, so ill probs just leave it
ultra frontline make an x cost? blah upgrades per mana spent - done
  - may need to add a mana card that stores mana like radiance or something
  - though cavalry supplies is sorta like a delayed mana
upgraded summon maybe 5 upgraded? - done
  - and maybe choose 2 on upgrade but dont lower cost
handsize block probs lower by 1 mana as well? - done
  - or do something else when max handsize, like a different bonus
  - probs can rework it into increasing block and cost with each card, every 2(3) or so
prep frost arrow lower numbers a bit - done
haniwa attacker lower onplay upgrade to +1? - done
  - since now theres a reason to use it over the passive, passive can run out
  - and also buff the base on play to like 9-10
haniwa monk reset charges after use - done
  - may need to buff the charge rate but need to test
  - 1 charge rate is probs low anyways, just nerf the per upgrade to like 5 or 6
fencer prep counter give base reflect instead of base block/barrier - done

new card based on cards created?
frontline copy also remove retain or something? - done
look into making choose short assign base class the assign base class - done
  - and try adding keyword for assign
  - check how game checks dynamically if there's any keyword to cater for new line
haniwa upgrader onPlay also scaling with number of upgraded cards in hand - done
  - lower block scaling to 1 and add per 5 upgrade or so, +1 to upgraded cards in hand scaling
sturdy frontline, also remove replenish? - done
zero cost reduction slightly buff - done
  - 3 levels unupgraded and then 4 cost upgraded
assignTriggerUpgrade upgrade 2 random cards in hand on play - done
haniwaSupport maybe use additionalMana for easy displaying of extra mana gain - done
  - also nerf mana scaling to 7/8 upgrades
fix various frontlines cards doing unnecessary math - done
double check cards that choose from hand and update descriptions - done
nerf watchtower gain by halving with extra triggers - done
frozen haniwa increase cold activations to 2 on upgrade - done

haniwa exploiter onplay doesnt change display for weak and shit - done

haniwa exploiter passive activations set to 1 - passive was reworked
  - also nerf debuff dmg to 2-3? and add scaling per X upgrades - done
haniwa exploiter check enemy is dead - not sure what this means now, so just leave it
haniwa sharpshooter check weird accuracy proccing for another sharpshooter? - not an issue
  - most likely mistake seeing exploiter dmg trigger it
clay to ashes maybe too good for 2 fp on upgrade? - wont do
  - maybe it's fine now with new loyalty changes, harder to exile
white flashbang for extra turn spell anims? - fixed
frontlines that dont upgrade should stay at the same passive counter, else people think they keep upgrading when it's only once - done with new loyalty changes
ultra frontline break open the passive limit? - wont do
  - if loyalty works like initial release, unsure what the bonus effect could be
  - perhaps it's fine to leave it for now, increasing loyalty is probs good enough already

rework frontline changes from last version
  - loses exile - done
  - playing a frontline card costs 1 loyalty - done
  - if played with 0 loyalty, exile the card - done
  - no longer refreshes loyalty when redrawn, only when upgraded - done
  - no longer becomes 1 cost with 0 loyalty - done
  - make restriction for commander to not exile at 0 loyalty - done
  - should go through all the frontlines and update their passives to not be too easy for passive to consume - done
    - make all frontline loyaltys not change on upgrade - done
    - bodyguard loyalty to 2, 1 loyalty per hit, 1 loyalty = 4 dmg reduction - done
    - exploiter loyalty to 2, passive now does follow up end of turn on each enemy with a debuff - done
    - monk loyalty to 5, no changes?
    - upgrader loyalty to 2, passive end of turn upgrade 2 random cards, prioritise not itself, remove upgrade restriction on upgraders - done
    - attacker loyalty to 3
    - sharpshooter loyalty to 2
    - support loyalty to 2
    - spy loyalty to 3
    - commander loyalty to 2
    - frozen haniwa loyalty to 2
    - forgo above loyalty number changes
    - make loyalty increase by upgrading again, like initial release, not fully refresh - done
    - attacker starting 3, passive 1, onplay 2 but increase dmg to 10
    - bodyguard starting 5, passive dmg total, onplay 2/3? maybe 3
    - sharpshooter starting 3, passive 2, onplay 1/2? maybe 2
    - support starting 3, passive 2, onplay 3?
    - exploiter starting 3, passive 2, onplay 2, debuff dmg to 3, but scale +1 per 3 upgrades
    - upgrader starting 2, passive 1, onplay 2/3? maybe update onplay to also upgrade stuff, and make it 3 if so
    - spy starting 5, passive 1, onplay 3, make scry start at 3, but scales slower like every 2/3 upgrades = 1 scry
    - monk starting 8, passive 1, onplay 2/3
    - commander starting 3, passive 2, onplay 0
    - frozen starting 2, passive 2, onplay 1
  - and go through above list of todos, since not all of them might make sense anymore - done

haniwa commander removes commanders mark if attacking same enemy - done
haniwa bodyguard upgrades increase passive block? cos it will now scale per loyalty - nvm, reverted that change
add "Loyalty" as a keyword to describe the exile/passive portion of frontlines - done
  - and update descriptions to match any new effects
loyalty strike scale via total loyalty of in hand frontline cards, instead of just number of frontlines - done
  - or both? cos 0 loyalty cards will feels badman
  - make 0 loyalty count as 1
  - or maybe leave it? might be hard to make balanced, eg. spam monk for 8 loyalty
  - well actually, upgraded cards increase loyalty anyway, so a bunch of upgraded frontlines will scale it hard too
  - perhaps add a downside of lowering loyalty of frontlines in hand?
haniwa spy make in draw/discard effect also consume loyalty - done
make haniwa monk not reset increased damage? if so, make loyalty on card played to 2
  - with new loyalty changes, needs to be more than 2 lel
  - and too high of a loyalty migth be annoying to get the card staying alive perhaps, many buffs can happen
  - or its fine, buffs are usually controlled?
make loyalty update immidiately when played, instead of needing to check discard pile - done
  - and fix commander staying at negative loyalty? - just dont consume loyalty on play
  - now haniwa blitz and probs commander will consume loyalty with the passives, fix this? - fixed
summon haniwa make it choose 2 different cards, to increase haniwa cost, bit too efficient - done
check loyalty resets when bringing back from exile - done
  - can probs just check in base class, when card moved from exile, refresh it
  - and update cards texts on the 2 cards that resurrect? or just leave it
create fencer give extra effects via levels - done
  - 3: 8(10) block
  - 5: something, upgrade or reflect?
  - 7: 8(10) barrier
  - 10: 4(6) static charge
starter haniwa gen cards, upgrade also make cost any1? - done
  - and lower frontline create for uncommon and rare
haniwa blitz dont discard, but consume loyalty - done
frontline upgrade target 3 or upgrade 3 times - done
  - buff to target 2 by default, upgrade makes it upgrade 3 times
discard upgrade, upgrade discarded cards? if frontline 3(5) times? - done
assign duplicate trigger dont exile, but only trigger the assign effect once? - done
  - maybe just make it not exile? probs too powerful
  - or make upgrade trigger twice, worthy of 2 mana perhaps

ashes to clay probs too good - done
  - probs just move to discard instead of top of draw
  - or same as copy frontline, move to draw but random
summon cards that sacrifice make mention that you get bonus haniwa by sacrificing less lel - if i feel like it
mass summon probs still too good - done
  - consume up to 10(15) random haniwa, and create cards in draw pile based on the type consumed
make haniwa buffs special type perhaps? - done
  - or instead let them stay at 0 level without removal
auto create reserves doesnt add 1 create haniwa to hand on play - fixed
assign tickdown return, give it 1 draw on upgrade instead of increasing tickdown amount - done

create cavalry mana op? maybe only give 1 - done
  - or have another effect, but not sure atm
  - assign 1 instance of cavalry rush lmao
strength in numbers only check in hand or something, to limit fp gain to not broken levels - removed for now
  - make upgrade just give some flat temp fp? instead of allowing draw/discard piles
  - or just remove this? lmao
move SturdyFrontline to unused as it will be redundant with new frontline changes - removed
  - or make it not exile when all loyalty consumed, but then need to indicate it somehow, which is annoying to do
fix AssignDuplicateTrigger using the actual status effect level when duplicating effect - fixed
buff archerPrepFrostArrow somehow as the dmg and block are too low? - done
  - make it 9 by default then upgrade gives 2 triggers?
  - also increase archer assign to 2

rework fencer prep counter? not sure what to do with it atm though - done
  - deal damage, if attacked during buff active, gain block/reflect as well
  - if attacked, increase damage?
new card increase max haniwa level and gain haniwa - done
  - green offcolour? though it kinda fits as hybrid, do hybrid
new frontline card horse archer, something related to graze and followups based on speedy or dodging - done
  - green offcolour availability?
  - passive graze = dmg, 1 loyalty, works in draw/discard for 2 loyalty
  - onplay = gain graze?
  - not sure if allow mass summon to spawn it, even with green mana - will leave mass summon for now
create haniwa show current haniwa

investigate fencer buff not stacking? 2 -> 5 from create fencer didnt happen - fixed
  - made a woopsie when fixing commanders mark being removed
handsize block not 0 in draw pile? - wont do
  - yeah the code doesnt care where it is, but its probs fine like this

fencer build barricade adjust haniwa requirement and barrier gain - done
haniwa upgrader make 3 starting loyalty 4 onplay cost? - done
exile summon exile 2 on upgrade? - maybe leave it
archerprepdebuff lower dmg, maybe not increase vuln duration on upgrade? - done
cavalryrush lower dmg a bit - done
heal sacrifice lower healing a bit? or increase haniwa requirement again - done
do something about assignTriggerUpgrade? feels kinda meh tbh - done
  - upgrade the hand when played?
  - oh it already upgrades 1-2 random cards, but whole hand might be better?
archer prep frost arrow maybe increase starting card count? - done
permanent assign make hp loss equal require haniwa - done
do something about frontline discard draw? feels weird a bit - removed it

exile frontline extra trigger, lower cost to 1 or 0? or give it more direct benefit - done
  - give retain?
frontline upgrade upgrading nothing still causes delay - done
fencer prep counter check dmg source is a enemyunit - fixed
  - also fixed weird out of reacting issue, by reworking block to just gain at end of turn
haniwa bodyguard do something about how it plays, best way is to just play it, cos passive dmg reduction is bad - loyalty haniwa gain change will probs make this ok
  - make loyalty refresh fully on upgrade, unique for bodyguard
  - or atleast a certain number like 4-5
make gaining haniwa gain loyalty to frontlines of same type in hand - done
  - adjust loyalty numbers on frontlines if needed
frozen haniwa show name of original card - done
maybe haniwa bodyguard should gain 2 instead of 1 loyalty, but need to see how the numbers work - done
  - perhaps better to just give passive 4 loyalty per turn if less than 4, like the initial release, except it doesnt scale
  - and perhaps loyalty cost to 5 so it needs 1 increase to cycle it
maybe increase starter haniwa gen default gain to 2
haniwa exploiter debuff dmg +1 per 5 upgrades instead of 3 - done
discard upgrade always upgrade 5 times even unupgraded - done
haniwa loyalty gain only in hand woops - done

sharpshooter does not consume loyalty but still allows bypassing graze? - fixed, forgor to update the check
  - had 1 loyalty and 4 loyalty sharpshooters
fencer prep counter attacking dead unit shows number - fixed
  - check if the unit is dead or not

investigate how blank card does colour check, and use it for my horse archer and prep frost arrow checks
  - it just sets a flag which is used when rolling and eventually checks mana base, so basically what im doing atm

add new common card fast summon - done
  - exile inate summon 1 W(0), replenish on upgrade
move exile summon to uncommon - done
  - let it exile up to 2 cards
  - allow choosing more frontlines for each card exiled? so up to +2
fix haniwa horse archer not being uncommon - done
update loyalty numbers - done, nerfed haniwa loyalty gain, leave bodyguard for now
  - upgrade increases by 2, and specify it also increases starting loyalty by 1
  - increase loyalty numbers across the board probs
  - or lower haniwa loyalty gain to 1, no matter the number of haniwa
  - haniwa bodyguard can probs just gain 2 per upgrade/haniwagain
new card, either skill or ability - LEAVE FOR NOW
  - assign buffs dont stack
  - not sure if ill implement this tbh, either stick to triggers or the buffs not stacking, so would be a lot of work to update existing stuff
assign cost trigger regain spent mana? - done
  - upside might not make up downside, which is why this change might be nice
  - might need to increase cost of the ability but we shall see

maybe lower haniwa horse archer requirement to 1 archer 1 cavalry - PROBS LEAVE FOR NOW
  - it is easy accessible source of graze, so perhaps it's fine
  - perhaps down to 1 archer 2 cavalry
haniwa commander remove replinish perhaps, as it's basically a free 25+ dmg attack - DONE
haniwa bodyguard minimum perturn could scale every few upgrades - DONE
discard upgrade still has upgrade delay when not selecting any cards - FIXED
fencer prep counter should deal damage to a random enemy if none have been marked - PROBS LEAVE FOR NOW
  - and perhaps lower base dmg to like 4(5) and start with 3 triggers
forgor to mention loyalty strike on upgrade is cheaper in changelog - FIXED

investigate fencer kamikaze which is accurate, with sharpshooter that consumed loyalty for passive? - DUNNO
  - not sure how to trigger this, perhaps some random followup was causing it?
exile summon not giving horse archer cos using different method woops - GG
  - replacing this card anyway
try use yellow mana symbol in haniwa support tooltip - DONE
update cavalry supplies as well - DONE

check blank card when summoning haniwa horse archer or choose short assign on archer prep frost arrow - DONE
look into updating display when haniwa spy gets its onplay executed from another source - DONE
  - leads to confusing moments where you dont know what the prompt is asking you for
  - easiest way is to copy the scry battle action, and add my own stuff
  - also fixed for cavalry scout just incase
make more clear distinction between Requires Loyalty and Consumes Loyalty - DONE
new cavalry frontline, charges loyalty for its passive - DONE
  - active then deal more dmg if more loyalty + inflict vuln if greater than 8
  - gain more loyalty end of turn every this card in hand
  - consume all loyalty but minimum 8
new card to replace exile summon - DONE
  - summon 1 frontline card, it starts with 2(10) extra loyalty
  - trigger its onplay action when added to hand and consume loyalty
exile frontline extra trigger maybe also execute onplay actions? - DONE
  - maybe find something else to make this feel better, consume loyalty instead?
new archer frontline, more supportive/defensive? - DONE
  - passive lower duration of incoming debuffs and counter the source
  - onplay apply some of players debuffs onto enemies?
  - or spread 1 enemies debuffs to others - probs more robust, less chance to break by not giving enemies a debuff they dont usually get
  - saevins idea of passive countering attacks by applying weak is probs pretty good though
    - might have to activate at end of turn instead of before attacks, probs better that way for calculating too
  - onplay can have a new buff that decreases incoming debuffs by 1 level/duration
assign description make more clear - DONE
assign summon frontline, maybe base number of copies on the current assigned haniwa? - REMOVED, add an effect to cavalry supplies
  - or perhaps rework it somehow
  - or remove
  - remove extra triggers? if 1 trigger, remove buff
  - reduce 1 from assigned haniwa, if at 1 remove buff
  - need something more otherwise it's just normal summon with a extra condition
  - task level = loyalty is maybe too similar to blitz summon
  - consume task level to summon?
assign reverse tickdown update cost from RRR -> 1RR - DONE

still need to think over these assign changes
extra trigger changes?
  - stacking assign buff tracks total haniwa assigned, and gives them all back - DONE
  - card counter becomes the maximum of the 2 buffs, or overwrite? - will add 3 DONE, REVERTED
  - need to actually come up with a benefit to charging up, it only really benefits fencer prep counter, charge attack etc. 
  - assign moves gain some scaling via extra triggers?
  - perhaps delaying is fine as the only benefit, more control over when they trigger without sacrificing power
  - or just need more synergies with extra triggers among cards
  - make extra triggers worth less like charge attack and fencer prep counter, and make them easier to obtain
  - give each assign buff a trigger that increases extra triggers like those 2 - maybe this can be an off colour ability
    - archer prep volley - increase card counter
    - fencer build barricade - play attack card
    - cavalry scout - play any card?
    - cavalry rush - draw cards
    - archer prep debuff - apply debuffs
    - fencer prep counter - already has a good one, could add another though
    - charge attack - already has a good one, could add another though
    - build watchtower - sacrifice archer
    - cavalry supplies - gain cavalry haniwa
  - when stacking, if task level less than starting, = starting - DONE
  - update create cavalry to use lower costs when assigning, probably just call it's actions method - DONE
  - also update choose short assign - DONE
  - make fencer prep counter choose random enemy if no one has attacked - DONE
  - update the extra trigger cards (or anything else that might need it)
    - assign fast trigger - convert remaining counter into task level before trigger - DONE
    - assign extra trigger - since fast trigger kinda gives task level in commons, make this a different effect - DONE
      - like giving assignment bonus or something
      - increase card counter
    - frontline loyalty extra trigger - transfer loyalty to assign buffs task level - DONE
    - assign cost trigger - just more task level? or increase task level gained from playing cards - DONE
    - mass extra trigger - just more task level? - DONE
    - assign duplicate trigger - DONE
      - might have to rework, dont think current code lets me pass in task level, the properties use Level directly
      - could rework into green offcolour idea above, next assign gets triggered twice like old extra triggers
    - permanent assign - let level stack now, but it decreases per trigger? - DONE
      - also have to do something about stacking too much haniwa so itll scale too much
      - probs have a max of 5 level gain from playing cards
      - and have a fixed counter to reset to, probs 5
    - gain buff tickdown maybe needs more, cos you miss out on buffing task level, or thats the downside/point
assign play gain block also activates when assign buff triggers, multiplied by number of triggers - WONT DO
  - probs lower block gain as well 3(4)
  - unsure if ill do this

maybe change frontlines to be A and assign to be B - DONE
add "random" to assign trigger summon description - DONE
cavalry supplies add effect of choosing random frontline - DONE
  - and change choices to be random between flame/radiance/frontline, X + 2 choices
  - and made frontline have higher chance to show
garrison archer allow using with lesser archer count, but give less watchtower - DONE
auto update assign costs on cards when buff exists - DONE
  - watchtower also needs one for the archer sacrifice, might change it to not sacrifice if assign buff exists - DONE
limit task level gain to 5 max per card played - LEAVE FOR NOW, see how it plays out
  - Maybe no need since perma assign resets assigned haniwa anyway
  - the problem will stem from eslewhere anyway, being able to loop and gain duplicate assign buffs
  - or the scaling is just too much anyway
  - and if i make it only scale by 1 no matter the amount of haniwa, stacking buffs has less incentive

new card, increase assign buff counter by 5, move a card of the same type as assign buff into the hand
  - maybe this is redundant as it'll be a combo of assign extra trigger + zero cost move
  - come up with something else
new frontline from summon commander, an assign variation?
  - you choose between the 2
frontline passive attacks make reactions? - DONE
  - no fp scaling but will bypass graze which might be fine, wont trigger sharpshooter lmao
go through new assigns and check if any need a minimum
  - and increase scaling requirement where necessary
go through assign buffs and add scaling to buff description
lower dmg of loyalty strike base dmg, cos upgrade now lowers cost
  - or remove upgraded dmg entirely, or keep 3 mana cost like before
starting task level should stack - DONE
  - probs need to adjust scaling for the per card gain to slow it down, as both together are probs a lot
let haniwa exploiter onplay update dmg in card description like it does with lockon/vuln ect
add colour to the haniwa option cards

assign buff source card points to battle card, if that gets upgraded, buff is upgraded too lmao
  - should I make source card a duplicate card? that is referenced only by the buff?
duplicate haniwa bug might be because of dying then start new run?

swap colors assign cost trigger and assign duplicate trigger
cavalry supplies include more types of options to choose from, like tool cards with 1 use for this battle only
update rarity of zero cost move to uncommon
update name of assign cost trigger?
haniwa charger start with gaining 2 on its own?
haniwa sentinel make passive 5 cost? or more

offcolour ideas
blue exile frontline, add splash, theming around mud lmao - DONE
green all frontlines hand/draw/discard gain loyalty + maybe something else
  - and has echo?
green double extra triggers (now power or task level or whatever) - DONE
  - maybe the next assign buff activate twice, like old extra triggers lmao
  - could replace assign duplicate trigger, and come up with another card in green
green assign that costs 1 of each haniwa
purple sacrifice haniwa for mana, or some other benefit
purple assign buffs dont stack
purple frontline, haniwa assassin, onplay insta kills if target below certain hp
  - passive counters when attacked? or pierce block/barrier, ez with lifeloss attack type
purple ability frontlines gain extra loyalty start of turn